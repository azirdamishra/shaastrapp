<html>
<head>
    <title> Signup Form</title>


    <link rel="stylesheet"
          href=
                  "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity=
                  "sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous">


    <link rel="stylesheet" type="text/css" href="style.css">

</head>
<body>

<br>
<br>
<br>
<script type="application/javascript">
    function submitForm(event) {
        console.log("Form submit called");

        var name = document.getElementById("name").value;
        var email = document.getElementById("email").value;
        var password = document.getElementById("password").value;
        var phone = document.getElementById("phone").value;

        var xhr = new XMLHttpRequest();
        xhr.open('POST', '/sign_up', true);
        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
        xhr.onload = function() {
            if (xhr.status === 200) {
                document.getElementById('form-container').style.display = "none";
                document.getElementById('success-msg').style.display = "block";
            }
            else {
                alert('Error: ' + JSON.parse(xhr.response).message);
                console.log(xhr.status);
                console.log(xhr.response);
            }
        };
        xhr.send("email=" + email + "&name=" + name + "&password=" + password + "&phone=" + phone);

        return false;
    }
</script>
<div class="container" >
    <div class="row">
        <div class="col-md-3">

        </div>


        <div class="col-md-6 main">


            <div id="success-msg">
                <h1>
                    User Created
                </h1>
            </div>

            <form onsubmit="return submitForm(event)" id="form-container" >

                <h1> Signup form </h1>

                <input class="box" type="text" name="name" id="name"
                       placeholder="Name"  required/><br>

                <input class="box" type="email" name="email" id="email"
                       placeholder="E-Mail " required /><br>

                <input class="box" type="password" name="password"
                       id="password" placeholder="Password " required/><br>

                <input class="box" type="text" name="phone" id="phone"
                       placeholder="Phone Number " required/><br>
                <br>
                <input type="submit" id="submitDetails"
                       name="submitDetails" value="Submit" /><br>

            </form>

        </div>


        <div class="col-md-3">
        </div>

    </div>
</div>
</body>
</html>